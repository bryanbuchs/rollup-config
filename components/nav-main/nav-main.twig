{{ attach_library('b2b/nav-main') }}

{% set config = [
		'nav',
    'nav-main',
  ] %}

<nav{{ attributes.setAttribute('class',config).setAttribute('aria-label',heading) }}>
  {% block content %}
    <ul class="menu menu--1">
      {% for item in menu %}
        <li class="menu-item--1">
          <a href="{{ item.url }}" class="menu-link--1">
            {{ item.text }}
          </a>
          {% if item.children %}
            <div class="nav-main--dropdown" aria-hidden="true" tabindex="-1">
              <ul class="menu menu--2">
                {% for child in item.children %}
                  <li class="menu-item--2">
                    {# second level item #}
                    <a href="{{ child.url }}" class="menu-link--2">
                      {{ child.text }}
                    </a>
                    {% if child.children %}
                      <ul class="menu--3">
                        {% for grandchild in child.children %}
                          <li class="menu-item--3">
                            {# third level item #}
                            <a href="{{ grandchild.url }}" class="menu-link--3">
                              {{ grandchild.text }}
                            </a>
                          </li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% endblock %}
</nav>
